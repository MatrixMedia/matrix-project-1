
<div class="dashboard_panel_bg memberlistpage">
  <!-- page title -- section -- start  -->
  <div class="page_top_title">
    <h4>{{comName}}</h4>
  </div>
  <!-- page title -- section -- end  -->
  <!-- -- back btn section start --  -->
  <div class="top_back_section">
    <a href="javascript:void(0)" (click)="back()">Back to dashboard</a>
  </div>
  <!-- -- back btn section start --  -->
  <!-- filter and heading area start -->
  <div class="filter-headingArea">
      <h4 class="block_sec_title headeingArea">Member list</h4>
      <div class="filterArea">
          <a href="javascript:void(0)" class="_filterSearch_iconBtn" (click)="toggleSearch()">
            <img src="assets/images/filter-search-icon.png" />
          </a>
          <a href="javascript:void(0)" class="filter" (click)="toggle()">Filter</a>
          <a href="javascript:void(0)" class="track" (click)="track()">Track</a>
          <a href="javascript:void(0)" class="pinkbtnsmall" (click)="onboardUser()">Onboard Users</a>
      </div>
  </div>

  <!-- ===  new filter search start === -->
  <div class="filter_search_sec" *ngIf="seachFilter">
    <div class="filter_sec_block_seach">
      <div class="form_row">
        <form [formGroup]="searchForm">
          <div class="input_block_box filter_search_text">
            <div class="filter_input_block">
              <div class="filter_input_box">
                <input class="input_appearance_none filter_input" type="text" placeholder="Search by name, phone number or email" formControlName="search" (keyup)="getActiveMembersList(communityId, current)">
              </div>
              <div class="filter_input_box_btn">
                <button class="button_appearance_none filter_btn_search" type="button" (click)="getActiveMembersList(communityId, current)">Search</button>
                <button class="button_appearance_none filter_btn_clear" type="button" (click)="clearDateFilter()">Clear</button>
              </div>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
  <!-- ===  new filter search end === -->

  <!-- ===  new filter section -- adjust start === -->
  <div class="fliter_sec_bg" *ngIf="toggleFilter">
    <div class="filter_sec_block">
        <form [formGroup]="searchForm">
            <div class="form_row">
              <div class="input_block_box">
                <div class="filter_input_block">
                  <div class="filter_input_box filter_search_date">
                    <mat-form-field>
                      <mat-label>Join date range</mat-label>
                      <mat-date-range-input [rangePicker]="picker">
                        <input matStartDate matInput placeholder="Start date" formControlName="startDate">
                        <input matEndDate matInput placeholder="End date" formControlName="endDate">
                      </mat-date-range-input>
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-date-range-picker #picker></mat-date-range-picker>
                    </mat-form-field>
                  </div>

                  <div class="filter_input_box filter_search_select">
                    <select class="input_appearance_none filter_input" formControlName="status" (change)="getActiveMembersList(communityId, current)">
                      <option value="" disabled selected hidden>Status</option>
                      <option value="" *ngIf="isSelected">All</option>
                      <option value="1">Active</option>
                      <option value="0">Inactive</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="form_row">
              <div class="input_block_box">
                <div class="filter_input_block">
                  <div class="filter_input_box filter_search_select" *ngIf="!type">
                    <select class="input_appearance_none filter_input" formControlName="roles" (change)="getActiveMembersList(communityId, current)">
                      <option value="" disabled selected hidden>User Type</option>
                      <option value="" >All</option>
                      <option value="board_member">Board Member</option>
                      <option value="executive_member">Executive Member</option>
                      <option value="member">Member</option>
                      <option value="fan">Fan</option>
                    </select>
                  </div>
                  <div class="filter_input_box_btn">
                    <button class="button_appearance_none filter_btn_search" (click)="getActiveMembersList(communityId, current)">Submit</button>
                    <button class="button_appearance_none filter_btn_clear" (click)="clearDateFilter()">Reset</button>
                  </div>
                </div>
              </div>
            </div>
        </form>
    </div>
  </div>
  <!-- ===  new filter section -- adjust end === -->
  <!-- filter and heading area start -->

  <!-- table area start -->
  <div class="tableBox">
      <div class="table-responsive">
          <table class="table_list" cellpadding="0" cellspacing="0">
              <thead>
                  <tr>
                      <th>Id</th>
                      <th>Name</th>
                      <th>Email</th>
                      <th>Phone No.</th>
                      <th>User Type</th>
                      <th>Last Activity On</th>
                      <th>Status</th>
                      <th>Action Items</th>
                  </tr>
              </thead>
              <tbody>
                  <!-- <tr>
                    <td>ID1234</td>
                    <td>Mr. Jhone Doe</td>
                    <td>jhone@gmail.com</td>
                    <td>+91 000 000 0000</td>
                    <td>Board member</td>
                    <td>28th march 2023 <br> 01:17 PM</td>
                    <td><button class="button_appearance_none td_active_btn">Active</button></td>
                    <td>
                      <div class="active_item_td">
                        <button class="button_appearance_none active_item_td_btn td_btn_yellow">
                          <img src="assets/images/active_item_btn_01.png" />
                        </button>
                        <button class="button_appearance_none active_item_td_btn td_btn_green">
                          <img src="assets/images/active_item_btn_02.png" />
                        </button>
                        <button class="button_appearance_none active_item_td_btn td_btn_orange">
                          <img src="assets/images/active_item_btn_03.png" />
                        </button>
                        <button class="button_appearance_none active_item_td_btn td_btn_pink">
                          <img src="assets/images/active_item_btn_04.png" />
                        </button>
                      </div>
                    </td>
                </tr> -->
                <tr *ngFor="let item of activeMemberList; let i = index">
                  <td>{{current*10-(9-i)}}</td>
                  <td>{{item.members.user.name  ? item.members.user.name : 'N/A'}}</td>
                  <td>{{item.members.user.email ? item.members.user.email : 'N/A'}}</td>
                  <td>{{item.members.user.phone ? item.members.user.phone : 'N/A'}}</td>
                  <td>{{item.members.roles ? item.members.roles :'N/A'}}</td>
                  <td>{{item.members.joinedAt ? item.members.joinedAt : 'N/A'}}</td>
                  <td><button class="button_appearance_none td_active_btn" (click)="changeStatus(item.members.memberId,i)" [ngClass]="{'disabled': !item.members.isActiveDeletePermission}">{{item.members.isActive ? 'Active' : 'Inactive'}}</button></td>
                  <td>
                    <!-- <div class="active_item_td">
                      <button class="button_appearance_none active_item_td_btn td_btn_green" (click)="viewDetails(item.members.user.id)">
                        <img src="assets/images/active_item_btn_02.png" />
                      </button>
                      <button class="button_appearance_none active_item_td_btn td_btn_pink" (click)="deleteMember(item.members.memberId,i)">
                        <img src="assets/images/active_item_btn_04.png" />
                      </button>
                    </div> -->
                      <!-- <button (click)="viewDetails(item.members.user.id)">View Details</button>
                      &nbsp;
                      <button (click)="deleteMember(item.members.memberId,i)">Delete</button> -->
                      <div class="active_item_td">
                        <!-- <button class="button_appearance_none active_item_td_btn td_btn_yellow">
                          <img src="assets/images/active_item_btn_01.png" />
                        </button> -->
                        <button class="button_appearance_none active_item_td_btn td_btn_green" (click)="viewDetails(item.members.user.id)">
                          <img src="assets/images/active_item_btn_02.png" />
                        </button>
                        <!-- <button class="button_appearance_none active_item_td_btn td_btn_orange">
                          <img src="assets/images/active_item_btn_03.png" />
                        </button> -->
                        <button class="button_appearance_none active_item_td_btn td_btn_pink" (click)="deleteMember(item.members.memberId,i)" [ngClass]="{'disabled': !item.members.isActiveDeletePermission}">
                          <img src="assets/images/active_item_btn_04.png" />
                        </button>
                      </div>
                  </td>
                </tr>

                <tr *ngIf="!activeMemberList?.length">
                    <td colspan="8">No Data Found</td>
                </tr>

              </tbody>
          </table>
          <!-- <ng-template [ngIf]="total && total!== 0">
              <div class="list_pagination">
              </div>
          </ng-template> -->
      </div>
      <!-- ---  table bottom Pagination section -- start --  -->
      <ng-template [ngIf]="total && total!==0">
        <div class="table_pagination_sec">
          <div class="table_pagi_left pagination_block">
            <span *ngIf="totalData > 10"><app-pagination
            [current]="current" [total]="total" (goTo)="onGoTo($event)" (next)="onNext($event)" (previous)="onPrevious($event)"
            ></app-pagination></span>
          </div>
          <div class="table_pagi_right">
            <p>Showing {{from}} - {{to}} of {{totalData}}</p>
          </div>
        </div>
      </ng-template>
      <!-- <div class="table_pagination_sec">
        <div class="table_pagi_left pagination_block">

            <div class="pagination">
              <a href="#">&laquo;</a>
              <a href="#" class="active">1</a>
              <a href="#">2</a>
              <a href="#">3</a>
              <a href="#">4</a>
              <a href="#">5</a>
              <a href="#">6</a>
              <a href="#">&raquo;</a>
            </div>

        </div>
        <div class="table_pagi_right">
          <p>Showing 1 - 25</p>
        </div>
      </div> -->
      <!-- ---  table bottom Pagination section -- end --  -->
  </div>
  <!-- table area end -->



</div>


<!-- ============  static HTML part ==== start  ======= -->


<!-- ============  static HTML part ==== end  ======= -->
